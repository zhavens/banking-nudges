<ng-template #addCoModal let-modal>
    <div class="card">
        <h5 class="card-header">Add Close Other</h5>
        <div class=" card-body">

            <div class="vstack gap-1 text-center" *ngIf="!addingCo; else addCoForm">
                <p>Welcome {{user.firstName}}! We've noticed that you're the only one who has proxy access to
                    {{personalization.personalString()}} accounts. </p>
                <p>Having multiple people performing banking tasks on behalf of an older adults can reduce the burden
                    put on you and help foster trust within your friends and family. This can also help provide
                    accountability and transparency to give {{personalization.personalString()}} better peace of mind.
                </p>
                <p>Would you consider starting the process of adding another proxy user to Alice's accounts before you
                    bank today? ({{personalization.personalString()}} will need to approve any additional accounts
                    before they take effect.)</p>

                <div class="d-flex" style="width: 100%;">
                    <div class="my-auto hstack gap-3">
                        <button type="button" class="btn btn-danger" (click)="openModal?.dismiss('no')">No
                            Thanks</button>
                        <button type="button" class="btn btn-primary" (click)="openModal?.dismiss('ask')">Ask
                            Later</button>
                        <button type="button" class="btn btn-success" (click)="addingCo = true">Continue</button>
                    </div>
                </div>
            </div>
            <ng-template #addCoForm>
                <form (submit)="openModal?.close('success')">
                    <div class="vstack gap-1">
                        <div>
                            <label class="form-label" for="addCoName">Name</label>
                            <input class="form-control" type="text" id="addCoName">
                        </div>
                        <div>
                            <label class="form-label" for="addCoEmail">Email</label>
                            <input class="form-control" type="email" id="addCoEmail">
                        </div>
                        <div>
                            <label class="form-label" for="addCoPhone">Phone Number</label>
                            <input class="form-control" type="tel" id="addCoPhone">
                        </div>
                    </div>
                    <div class="mt-3 hstack gap-3" *ngIf="!cancelling; else addCoCancelling">
                        <button type="btn" class="btn btn-outline-primary" (click)="cancelling = true">Cancel</button>
                        <button type="submit" class="btn btn-primary">Start the Process!</button>
                    </div>
                    <ng-template #addCoCancelling>
                        <hr>
                        <div class="text-bg-yellow alert">
                            <p>Are you sure you want to cancel?</p>
                            <div class="mt-3 hstack gap-3">
                                <button type="btn" class="btn btn-danger"
                                    (click)="openModal?.dismiss('cancel')">Yes</button>
                                <button type="submit" class="btn btn-primary" (click)="cancelling = false">No</button>
                            </div>
                        </div>
                    </ng-template>
                </form>
            </ng-template>
        </div>
    </div>
</ng-template>